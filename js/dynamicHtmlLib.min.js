function DHElement(a,b,c,d,e,f){return this instanceof DHElement?((this.initialized===undefined||this.initialized)&&AbstractDHElement.call(this,b,c,d,e,f),this.initialized=!0,this.tag=a,this.getComponent=function(){return'<'+a+this.classes+this.id+this.styles+this.getAttributesString()+'>'+this.value+'</'+a+'>';},this.html=this.getComponent(),this.appendTo=function(a){AbstractDHElement.prototype.appendData.call(this,a,this.getComponent());},this.children=[],this.child=function(a){return this.children.push(a),this;},this.getComponentsTree=function(b){var c='';for(var a=0;a<b.children.length;a++)c+=DHElement(b.children[a].tag,b.children[a].classes,b.children[a].id,b.children[a].value===''?this.getComponentsTree(b.children[a]):b.children[a].value,b.children[a].optionalAttributes,b.children[a].styles).html;return c;},this.appendWithChildren=function(a,b){AbstractDHElement.prototype.appendData.call(this,a,this.getComponentsTree(b));},this):new DHElement(a,b,c,d,e,f);}function DHList(b,c,a,d,e,f,g){return this instanceof DHList?(this.classes=b,this.id=c,this.value=e,this.liClasses=a,this.elements=d,this.getComponent=function(){var c='';for(var b=0;b<this.elements.length;b++)c+=DHElement('li',a[b],'',this.elements[b]).html;return DHElement('ul',this.classes,this.id,c).html;},this.html=this.getComponent(),this.appendTo=function(a){AbstractDHElement.prototype.appendData.call(this,a,this.getComponent());},this):new DHList(b,c,a,d,e,f,g);}function DHTable(d,e,a,b,c,f){return this instanceof DHTable?(this.classes=d,this.id=e,this.json=c!==undefined&&c.length===undefined?[c]:c,this.getRowsFromJson=function(){var c=[];if(this.json===undefined)return[];for(var b=0;b<this.json.length;b++){var a=this.json[b];c.push(Object.keys(this.json[b]===null?'/':this.json[b]).map(function(b){var c=(Math.random()*Math.random()).toString().replace('.','');var d='btn_'+(Math.random()*Math.random()).toString().replace('.','');if(a[b]!==null&&a[b]instanceof Array)return a[b].length===0?DHElement('button','btn btn-primary btn-sm',d,'+',['onclick:collapseTable("#inner_text'+c+'","'+d+'")'],'font-size:large;').html+DHElement('h6','collapse','inner_text'+c,'No data yet',[]).html:Object.prototype.toString.call(a[b][0])==='[object String]'?a[b]:DHElement('button','btn btn-primary btn-sm',d,'+',['onclick:collapseTable("#inner_table'+c+'","'+d+'")'],'font-size:large;').html+DHTable('inner_table table table-responsive collapse','inner_table'+c,[],[],a[b]).html;if(a[b]!==null&&a[b]instanceof Object)return DHElement('button','btn btn-primary btn-sm',d,'+',['onclick:collapseTable("#inner_table'+c+'","'+d+'")'],'font-size:large;').html+DHTable('inner_table table table-responsive collapse','inner_table'+c,[],[],[a[b]]).html;if(a[b]!==null&&(a[b].toString().indexOf('.jpg')>=0||a[b].toString().indexOf('.png')>=0||a[b].toString().indexOf('.icon')>=0))return DHElement('img','','','',['src:'+a[b],'width:100px','height:100px'],'border-radius: 50%; border: 5px solid blue;').html;if(a[b]!==null&&a[b].toString().indexOf('http')===0&&a[b].toString().indexOf('.jpg')<0&&a[b].toString().indexOf('.png')<0&&a[b].toString().indexOf('.icon')<0)return DHElement('a','','',a[b],['href:'+a[b],'target:_blank']).html;if(Object.prototype.toString.call(a[b])==='[object String]'){var e=a[b].replace("'",'\\"').replace('\\','');var f=/<[a-z][\s\S]*>/i.test(e);return e.toString().length>50&&f?(console.log(e),DHElement('div','','',e.substring(0,49)+'...',['title:'+$(e).text(),'data-toggle:tooltip']).html):e;}return a[b];}));}return c;},this.getTitlesFromJson=function(){return this.json===undefined?[]:this.json.length>0?Object.keys(this.json[0]):[];},this.rows=b.length===0||b===''||b===undefined?this.getRowsFromJson():b,this.titles=a.length===0||a===''||a===undefined?this.getTitlesFromJson():a,this.getComponent=function(){var d='';var e='';var b='';var f='';var g='';var h='';for(var a=0;a<this.titles.length;a++)g+=DHElement('th','','',this.titles[a]).html;h=DHElement('thead','','',DHElement('tr','','',g).html).html;for(var a=0;a<this.rows.length;a++){b='';for(var c=0;c<this.rows[a].length;c++)b+=DHElement('td','','',this.rows[a][c]).html;f+=DHElement('tr','','',b).html;}return e=DHElement('tbody','','',f).html,d=DHElement('table',this.classes,this.id,h+e).html,d;},this.getBodyRows=function(){var c='';var d='';for(var a=0;a<this.rows.length;a++){c='';for(var b=0;b<this.rows[a].length;b++){var e=this.rows[a][b]!==null&&this.rows[a][b].toString().indexOf('<td')>=0?this.rows[a][b].toString():DHElement('td','','',this.rows[a][b]).html;c+=e;}d+=DHElement('tr','','',c).html;}return d;},this.getHeaderRows=function(){var b='';var c='';for(var a=0;a<this.titles.length;a++)b+=DHElement('th','','',this.titles[a]).html;return c=DHElement('tr','','',b).html,c;},this.bodyRows=this.getBodyRows(),this.headerRow=this.getHeaderRows(),this.html=this.getComponent(),this.refreshTableBody=function(a){AbstractDHElement.prototype.removeChildrenData.call(this,a+' tbody'),AbstractDHElement.prototype.appendData.call(this,a+' tbody',this.bodyRows);},this.refreshTableHeader=function(a){AbstractDHElement.prototype.removeChildrenData.call(this,a+' thead'),AbstractDHElement.prototype.appendData.call(this,a+' thead',this.headerRow);},this.appendTo=function(a){AbstractDHElement.prototype.appendData.call(this,a,this.getComponent());},this):new DHTable(d,e,a,b,c,f);}function DHEmptyElement(a,b,c,d,e,f,g){return this instanceof DHEmptyElement?(AbstractDHElement.call(this,b,c,d,f,g),this.tag=a,this.type=e,this.getComponent=function(){return'<'+a+this.classes+this.id+this.styles+" value='"+this.value+"' type='"+this.type+"'"+this.getAttributesString()+'>';},this.html=this.getComponent(),this.appendTo=function(a){AbstractDHElement.prototype.appendData(a,this.getComponent());},this):new DHEmptyElement(a,b,c,d,e,f,g);}function collapseTable(a,b){$(a).hasClass('collapse')?($(a).removeClass('collapse'),$('#'+b).text('-')):($('#'+b).text('+'),$(a).addClass('collapse'));}function MakeResponsiveDHTable(b){var a=DHTable('table table-responsive root-table','new_table',[],[],b);return a.html;}function InitDataTable(b){var a=$(b).DataTable({paging:!1,dom:'<lf<t>ip>'});a.on('draw',function(){var b=$(a.table().body());b.unhighlight(),b.highlight(a.search());});}var AbstractDHElement=function(b,c,d,e,a){this.classes=b===''||b.indexOf('class=')>=0?b:" class='"+b+"'",this.id=c===''||c.toString().indexOf('id=')>=0?c:" id='"+c+"'",this.value=d,this.optionalAttributes=e,this.styles=a===undefined||a===''||a.indexOf('style=')>=0?a:" style='"+a+"'",a===undefined&&(this.styles=''),this.getAttributesString=function(){var d=' ';if(this.optionalAttributes===undefined||this.optionalAttributes.length===0)return'';var e=' ';for(var a=0;a<this.optionalAttributes.length;a++){a===this.optionalAttributes.length-1&&(e='');var b='';if(this.optionalAttributes[a].split(':').length>2)for(var c=1;c<this.optionalAttributes[a].split(':').length;c++)b+=this.optionalAttributes[a].split(':')[c],c!==this.optionalAttributes[a].split(':').length-1&&(b+=':');else b=this.optionalAttributes[a].split(':')[1];d+=this.optionalAttributes[a].split(':')[0]+"='"+b+"'"+e;}return d;};};AbstractDHElement.prototype.appendData=function(a,b){$(a).append(b);},AbstractDHElement.prototype.removeChildrenData=function(a){$(a).children().remove();},AbstractDHElement.prototype.addCssFiles=function(c){var b='';for(var a=0;a<c.length;a++)b+=DHEmptyElement('link','','','','',['rel:stylesheet','type:text/css','href:'+c[a]+'']).html;AbstractDHElement.prototype.appendData('head',b);},AbstractDHElement.prototype.addPageTitle=function(a){AbstractDHElement.prototype.appendData('head',DHElement('title','','',a,[]).html);},AbstractDHElement.prototype.ajax=function(a,b,c,d,e,f,g){return this.type=a,this.url=b,this.dataType=c,this.contentType=d,this.onSuccess=e,this.onComplente=f,this.data=g,this.executeAjax=function(a){$.ajax({type:this.type,url:this.url,dataType:this.dataType,data:this.data,contentType:this.contentType,success:function(b){a(b);},complete:function(a){}});},this;};
